import pyzipper
from cryptography.fernet import Fernet
import os

path = "C:\Test\/"

obj = b'J64ZHFpCWFlS9zT7y5zxuQN1Gb09y7cucne_EhuWyDM='

fernet = Fernet(obj)

with pyzipper.AESZipFile('new_test.zip',
                         'w',
                         compression=pyzipper.ZIP_LZMA) as zf:
    zf.setpassword(obj)
    zf.setencryption(pyzipper.WZ_AES, nbits=256)
    
with pyzipper.AESZipFile('new_test.zip') as zf:
    zf.setpassword(secret_password)
    for i in os.listdir(path):
        if i.endswith('.txt'):
            my_secrets = zf.read(i)